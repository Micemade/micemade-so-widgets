!function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){function CSSCoordinates(){var me=this;me.top="auto",me.left="auto",me.right="auto",me.bottom="auto",me.set=function(property,value){$.isNumeric(value)&&(me[property]=Math.round(value))}}function DisplayController(element,options,tipController){function openTooltip(immediate,forceOpen){cancelTimer(),element.data(DATA_HASACTIVEHOVER)||(immediate?(forceOpen&&element.data(DATA_FORCEDOPEN,!0),tipController.showTip(element)):(session.tipOpenImminent=!0,hoverTimer=setTimeout(function(){hoverTimer=null,checkForIntent()},options.intentPollInterval)))}function closeTooltip(disableDelay){cancelTimer(),session.tipOpenImminent=!1,element.data(DATA_HASACTIVEHOVER)&&(element.data(DATA_FORCEDOPEN,!1),disableDelay?tipController.hideTip(element):(session.delayInProgress=!0,hoverTimer=setTimeout(function(){hoverTimer=null,tipController.hideTip(element),session.delayInProgress=!1},options.closeDelay)))}function checkForIntent(){Math.abs(session.previousX-session.currentX)+Math.abs(session.previousY-session.currentY)<options.intentSensitivity?tipController.showTip(element):(session.previousX=session.currentX,session.previousY=session.currentY,openTooltip())}function cancelTimer(){hoverTimer=clearTimeout(hoverTimer),session.delayInProgress=!1}function repositionTooltip(){tipController.resetPosition(element)}var hoverTimer=null;this.show=openTooltip,this.hide=closeTooltip,this.cancel=cancelTimer,this.resetPosition=repositionTooltip}function PlacementCalculator(){function computePlacementCoords(element,placement,tipWidth,tipHeight,offset){var position,placementBase=placement.split("-")[0],coords=new CSSCoordinates;switch(position=isSvgElement(element)?getSvgPlacement(element,placementBase):getHtmlPlacement(element,placementBase),placement){case"n":coords.set("left",position.left-tipWidth/2),coords.set("bottom",session.windowHeight-position.top+offset);break;case"e":coords.set("left",position.left+offset),coords.set("top",position.top-tipHeight/2);break;case"s":coords.set("left",position.left-tipWidth/2),coords.set("top",position.top+offset);break;case"w":coords.set("top",position.top-tipHeight/2),coords.set("right",session.windowWidth-position.left+offset);break;case"nw":coords.set("bottom",session.windowHeight-position.top+offset),coords.set("right",session.windowWidth-position.left-20);break;case"nw-alt":coords.set("left",position.left),coords.set("bottom",session.windowHeight-position.top+offset);break;case"ne":coords.set("left",position.left-20),coords.set("bottom",session.windowHeight-position.top+offset);break;case"ne-alt":coords.set("bottom",session.windowHeight-position.top+offset),coords.set("right",session.windowWidth-position.left);break;case"sw":coords.set("top",position.top+offset),coords.set("right",session.windowWidth-position.left-20);break;case"sw-alt":coords.set("left",position.left),coords.set("top",position.top+offset);break;case"se":coords.set("left",position.left-20),coords.set("top",position.top+offset);break;case"se-alt":coords.set("top",position.top+offset),coords.set("right",session.windowWidth-position.left)}return coords}function getHtmlPlacement(element,placement){var left,top,objectOffset=element.offset(),objectWidth=element.outerWidth(),objectHeight=element.outerHeight();switch(placement){case"n":left=objectOffset.left+objectWidth/2,top=objectOffset.top;break;case"e":left=objectOffset.left+objectWidth,top=objectOffset.top+objectHeight/2;break;case"s":left=objectOffset.left+objectWidth/2,top=objectOffset.top+objectHeight;break;case"w":left=objectOffset.left,top=objectOffset.top+objectHeight/2;break;case"nw":left=objectOffset.left,top=objectOffset.top;break;case"ne":left=objectOffset.left+objectWidth,top=objectOffset.top;break;case"sw":left=objectOffset.left,top=objectOffset.top+objectHeight;break;case"se":left=objectOffset.left+objectWidth,top=objectOffset.top+objectHeight}return{top:top,left:left}}function getSvgPlacement(element,placement){function pushPlacement(){placements.push(point.matrixTransform(matrix))}var coords,rotation,steps,x,svgElement=element.closest("svg")[0],domElement=element[0],point=svgElement.createSVGPoint(),boundingBox=domElement.getBBox(),matrix=domElement.getScreenCTM(),halfWidth=boundingBox.width/2,halfHeight=boundingBox.height/2,placements=[],placementKeys=["nw","n","ne","e","se","s","sw","w"];if(point.x=boundingBox.x,point.y=boundingBox.y,pushPlacement(),point.x+=halfWidth,pushPlacement(),point.x+=halfWidth,pushPlacement(),point.y+=halfHeight,pushPlacement(),point.y+=halfHeight,pushPlacement(),point.x-=halfWidth,pushPlacement(),point.x-=halfWidth,pushPlacement(),point.y-=halfHeight,pushPlacement(),placements[0].y!==placements[1].y||placements[0].x!==placements[7].x)for(rotation=Math.atan2(matrix.b,matrix.a)*RAD2DEG,steps=Math.ceil((rotation%360-22.5)/45),steps<1&&(steps+=8);steps--;)placementKeys.push(placementKeys.shift());for(x=0;x<placements.length;x++)if(placementKeys[x]===placement){coords=placements[x];break}return{top:coords.y+session.scrollTop,left:coords.x+session.scrollLeft}}this.compute=computePlacementCoords}function TooltipController(options){function beginShowTip(element){element.data(DATA_HASACTIVEHOVER,!0),tipElement.queue(function(next){showTip(element),next()})}function showTip(element){var tipContent;if(element.data(DATA_HASACTIVEHOVER)){if(session.isTipOpen)return session.isClosing||hideTip(session.activeHover),void tipElement.delay(100).queue(function(next){showTip(element),next()});element.trigger("powerTipPreRender"),tipContent=getTooltipContent(element),tipContent&&(tipElement.empty().append(tipContent),element.trigger("powerTipRender"),session.activeHover=element,session.isTipOpen=!0,tipElement.data(DATA_MOUSEONTOTIP,options.mouseOnToPopup),options.followMouse?positionTipOnCursor():(positionTipOnElement(element),session.isFixedTipOpen=!0),tipElement.fadeIn(options.fadeInTime,function(){session.desyncTimeout||(session.desyncTimeout=setInterval(closeDesyncedTip,500)),element.trigger("powerTipOpen")}))}}function hideTip(element){session.isClosing=!0,session.activeHover=null,session.isTipOpen=!1,session.desyncTimeout=clearInterval(session.desyncTimeout),element.data(DATA_HASACTIVEHOVER,!1),element.data(DATA_FORCEDOPEN,!1),tipElement.fadeOut(options.fadeOutTime,function(){var coords=new CSSCoordinates;session.isClosing=!1,session.isFixedTipOpen=!1,tipElement.removeClass(),coords.set("top",session.currentY+options.offset),coords.set("left",session.currentX+options.offset),tipElement.css(coords),element.trigger("powerTipClose")})}function positionTipOnCursor(){if(!session.isFixedTipOpen&&(session.isTipOpen||session.tipOpenImminent&&tipElement.data(DATA_HASMOUSEMOVE))){var collisions,collisionCount,tipWidth=tipElement.outerWidth(),tipHeight=tipElement.outerHeight(),coords=new CSSCoordinates;coords.set("top",session.currentY+options.offset),coords.set("left",session.currentX+options.offset),collisions=getViewportCollisions(coords,tipWidth,tipHeight),collisions!==Collision.none&&(collisionCount=countFlags(collisions),1===collisionCount?collisions===Collision.right?coords.set("left",session.windowWidth-tipWidth):collisions===Collision.bottom&&coords.set("top",session.scrollTop+session.windowHeight-tipHeight):(coords.set("left",session.currentX-tipWidth-options.offset),coords.set("top",session.currentY-tipHeight-options.offset))),tipElement.css(coords)}}function positionTipOnElement(element){var priorityList,finalPlacement;options.smartPlacement?(priorityList=$.fn.powerTip.smartPlacementLists[options.placement],$.each(priorityList,function(idx,pos){var collisions=getViewportCollisions(placeTooltip(element,pos),tipElement.outerWidth(),tipElement.outerHeight());if(finalPlacement=pos,collisions===Collision.none)return!1})):(placeTooltip(element,options.placement),finalPlacement=options.placement),tipElement.addClass(finalPlacement)}function placeTooltip(element,placement){var tipWidth,tipHeight,iterationCount=0,coords=new CSSCoordinates;coords.set("top",0),coords.set("left",0),tipElement.css(coords);do{tipWidth=tipElement.outerWidth(),tipHeight=tipElement.outerHeight(),coords=placementCalculator.compute(element,placement,tipWidth,tipHeight,options.offset),tipElement.css(coords)}while(++iterationCount<=5&&(tipWidth!==tipElement.outerWidth()||tipHeight!==tipElement.outerHeight()));return coords}function closeDesyncedTip(){var isDesynced=!1;!session.isTipOpen||session.isClosing||session.delayInProgress||(!1===session.activeHover.data(DATA_HASACTIVEHOVER)||session.activeHover.is(":disabled")?isDesynced=!0:isMouseOver(session.activeHover)||session.activeHover.is(":focus")||session.activeHover.data(DATA_FORCEDOPEN)||(tipElement.data(DATA_MOUSEONTOTIP)?isMouseOver(tipElement)||(isDesynced=!0):isDesynced=!0),isDesynced&&hideTip(session.activeHover))}var placementCalculator=new PlacementCalculator,tipElement=$("#"+options.popupId);0===tipElement.length&&(tipElement=$("<div/>",{id:options.popupId}),0===$body.length&&($body=$("body")),$body.append(tipElement)),options.followMouse&&(tipElement.data(DATA_HASMOUSEMOVE)||($document.on("mousemove",positionTipOnCursor),$window.on("scroll",positionTipOnCursor),tipElement.data(DATA_HASMOUSEMOVE,!0))),options.mouseOnToPopup&&tipElement.on({mouseenter:function(){tipElement.data(DATA_MOUSEONTOTIP)&&session.activeHover&&session.activeHover.data(DATA_DISPLAYCONTROLLER).cancel()},mouseleave:function(){session.activeHover&&session.activeHover.data(DATA_DISPLAYCONTROLLER).hide()}}),this.showTip=beginShowTip,this.hideTip=hideTip,this.resetPosition=positionTipOnElement}function isSvgElement(element){return window.SVGElement&&element[0]instanceof SVGElement}function initTracking(){session.mouseTrackingActive||(session.mouseTrackingActive=!0,$(function(){session.scrollLeft=$window.scrollLeft(),session.scrollTop=$window.scrollTop(),session.windowWidth=$window.width(),session.windowHeight=$window.height()}),$document.on("mousemove",trackMouse),$window.on({resize:function(){session.windowWidth=$window.width(),session.windowHeight=$window.height()},scroll:function(){var x=$window.scrollLeft(),y=$window.scrollTop();x!==session.scrollLeft&&(session.currentX+=x-session.scrollLeft,session.scrollLeft=x),y!==session.scrollTop&&(session.currentY+=y-session.scrollTop,session.scrollTop=y)}}))}function trackMouse(event){session.currentX=event.pageX,session.currentY=event.pageY}function isMouseOver(element){var elementPosition=element.offset(),elementBox=element[0].getBoundingClientRect(),elementWidth=elementBox.right-elementBox.left,elementHeight=elementBox.bottom-elementBox.top;return session.currentX>=elementPosition.left&&session.currentX<=elementPosition.left+elementWidth&&session.currentY>=elementPosition.top&&session.currentY<=elementPosition.top+elementHeight}function getTooltipContent(element){var targetElement,content,tipText=element.data(DATA_POWERTIP),tipObject=element.data(DATA_POWERTIPJQ),tipTarget=element.data(DATA_POWERTIPTARGET);return tipText?($.isFunction(tipText)&&(tipText=tipText.call(element[0])),content=tipText):tipObject?($.isFunction(tipObject)&&(tipObject=tipObject.call(element[0])),tipObject.length>0&&(content=tipObject.clone(!0,!0))):tipTarget&&(targetElement=$("#"+tipTarget),targetElement.length>0&&(content=targetElement.html())),content}function getViewportCollisions(coords,elementWidth,elementHeight){var viewportTop=session.scrollTop,viewportLeft=session.scrollLeft,viewportBottom=viewportTop+session.windowHeight,viewportRight=viewportLeft+session.windowWidth,collisions=Collision.none;return(coords.top<viewportTop||Math.abs(coords.bottom-session.windowHeight)-elementHeight<viewportTop)&&(collisions|=Collision.top),(coords.top+elementHeight>viewportBottom||Math.abs(coords.bottom-session.windowHeight)>viewportBottom)&&(collisions|=Collision.bottom),(coords.left<viewportLeft||coords.right+elementWidth>viewportRight)&&(collisions|=Collision.left),(coords.left+elementWidth>viewportRight||coords.right<viewportLeft)&&(collisions|=Collision.right),collisions}function countFlags(value){for(var count=0;value;)value&=value-1,count++;return count}var $document=$(document),$window=$(window),$body=$("body"),DATA_DISPLAYCONTROLLER="displayController",DATA_HASACTIVEHOVER="hasActiveHover",DATA_FORCEDOPEN="forcedOpen",DATA_HASMOUSEMOVE="hasMouseMove",DATA_MOUSEONTOTIP="mouseOnToPopup",DATA_POWERTIP="powertip",DATA_POWERTIPJQ="powertipjq",DATA_POWERTIPTARGET="powertiptarget",RAD2DEG=180/Math.PI,session={isTipOpen:!1,isFixedTipOpen:!1,isClosing:!1,tipOpenImminent:!1,activeHover:null,currentX:0,currentY:0,previousX:0,previousY:0,desyncTimeout:null,mouseTrackingActive:!1,delayInProgress:!1,windowWidth:0,windowHeight:0,scrollTop:0,scrollLeft:0},Collision={none:0,top:1,bottom:2,left:4,right:8};$.fn.powerTip=function(opts,arg){if(!this.length)return this;if("string"===$.type(opts)&&$.powerTip[opts])return $.powerTip[opts].call(this,this,arg);var options=$.extend({},$.fn.powerTip.defaults,opts),tipController=new TooltipController(options);return initTracking(),this.each(function(){var title,$this=$(this),dataPowertip=$this.data(DATA_POWERTIP),dataElem=$this.data(DATA_POWERTIPJQ),dataTarget=$this.data(DATA_POWERTIPTARGET);$this.data(DATA_DISPLAYCONTROLLER)&&$.powerTip.destroy($this),title=$this.attr("title"),dataPowertip||dataTarget||dataElem||!title||($this.data(DATA_POWERTIP,title),$this.data("originalTitle",title),$this.removeAttr("title")),$this.data(DATA_DISPLAYCONTROLLER,new DisplayController($this,options,tipController))}),options.manual||this.on({"mouseenter.powertip":function(event){$.powerTip.show(this,event)},"mouseleave.powertip":function(){$.powerTip.hide(this)},"focus.powertip":function(){$.powerTip.show(this)},"blur.powertip":function(){$.powerTip.hide(this,!0)},"keydown.powertip":function(event){27===event.keyCode&&$.powerTip.hide(this,!0)}}),this},$.fn.powerTip.defaults={fadeInTime:200,fadeOutTime:100,followMouse:!1,popupId:"powerTip",intentSensitivity:7,intentPollInterval:100,closeDelay:100,placement:"n",smartPlacement:!1,offset:10,mouseOnToPopup:!1,manual:!1},$.fn.powerTip.smartPlacementLists={n:["n","ne","nw","s"],e:["e","ne","se","w","nw","sw","n","s","e"],s:["s","se","sw","n"],w:["w","nw","sw","e","ne","se","n","s","w"],nw:["nw","w","sw","n","s","se","nw"],ne:["ne","e","se","n","s","sw","ne"],sw:["sw","w","nw","s","n","ne","sw"],se:["se","e","ne","s","n","nw","se"],"nw-alt":["nw-alt","n","ne-alt","sw-alt","s","se-alt","w","e"],"ne-alt":["ne-alt","n","nw-alt","se-alt","s","sw-alt","e","w"],"sw-alt":["sw-alt","s","se-alt","nw-alt","n","ne-alt","w","e"],"se-alt":["se-alt","s","sw-alt","ne-alt","n","nw-alt","e","w"]},$.powerTip={show:function(element,event){return event?(trackMouse(event),session.previousX=event.pageX,session.previousY=event.pageY,$(element).data(DATA_DISPLAYCONTROLLER).show()):$(element).first().data(DATA_DISPLAYCONTROLLER).show(!0,!0),element},reposition:function(element){return $(element).first().data(DATA_DISPLAYCONTROLLER).resetPosition(),element},hide:function(element,immediate){return element?$(element).first().data(DATA_DISPLAYCONTROLLER).hide(immediate):session.activeHover&&session.activeHover.data(DATA_DISPLAYCONTROLLER).hide(!0),element},destroy:function(element){return $(element).off(".powertip").each(function(){var $this=$(this),dataAttributes=["originalTitle",DATA_DISPLAYCONTROLLER,DATA_HASACTIVEHOVER,DATA_FORCEDOPEN];$this.data("originalTitle")&&($this.attr("title",$this.data("originalTitle")),dataAttributes.push(DATA_POWERTIP)),$this.removeData(dataAttributes)}),element}},$.powerTip.showTip=$.powerTip.show,$.powerTip.closeTip=$.powerTip.hide});